<!DOCTYPE html>
<script>
// DATI GLOBALI
const dee = [
{ id: 1, nome: 'Afrodite' },
{ id: 2, nome: 'Atena' },
{ id: 3, nome: 'Artemide' },
{ id: 4, nome: 'Demetra' },
{ id: 5, nome: 'Era' },
{ id: 6, nome: 'Persefone' },
{ id: 7, nome: 'Estia' }
];

// ELEMENTI
const scelta = document.getElementById('scelta');
const test = document.getElementById('test');
const ordinamento = document.getElementById('ordinamento');
const result = document.getElementById('result');
const analysis = document.getElementById('analysis');

// BOTTONI
document.getElementById('btnTest').onclick = () => {
scelta.classList.add('hidden');
test.classList.remove('hidden');
};

document.getElementById('btnOrdina').onclick = () => {
scelta.classList.add('hidden');
ordinamento.classList.remove('hidden');
caricaDee();
};

// TEST
document.getElementById('submitTest').onclick = () => {
const punteggi = {};
dee.forEach(d => punteggi[d.nome] = 0);

document.querySelectorAll('input[type=radio]:checked').forEach(r => {
punteggi[r.value]++;
});

mostraRisultato(Object.keys(punteggi).sort((a,b) => punteggi[b]-punteggi[a]));
};

// ORDINAMENTO
function caricaDee() {
const list = document.getElementById('dea-list');
list.innerHTML = '';
dee.forEach(d => {
const div = document.createElement('div');
div.textContent = d.nome;
div.className = 'p-2 bg-white rounded shadow';
list.appendChild(div);
});
}

document.getElementById('submitOrdine').onclick = () => {
const ordine = [...document.querySelectorAll('#dea-list div')].map(d => d.textContent);
mostraRisultato(ordine);
};

// RISULTATO
function mostraRisultato(ordine) {
scelta.classList.add('hidden');
test.classList.add('hidden');
ordinamento.classList.add('hidden');
result.classList.remove('hidden');

analysis.innerHTML = ordine.map((d,i)=>`<p>${i+1}. ${d}</p>`).join('');
}
</script>
</body>
</html>
